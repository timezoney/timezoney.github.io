<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Profile</title>
        <meta charset="UTF-8">
        <meta name="author" content="Daniil">
        <meta name="keywords" content="profile page, personal">
        <meta name="description" content="Profile page with information about the user, rating and reviews">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./css/normalize.css">
        <link rel="stylesheet" href="./css/profile_page.css">
    </head>
    <body>

        <header>
            <a href="#">
                <h1>Jobster</h1>
            </a>

            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Catalog (employees)</a></li>
                <li><a href="#">Catalog (jobs)</a></li>
                <li><a href="#" id="active">Profile</a></li>
            </ul>
            <a href="#">
                <img src="./images/user.png" alt="profile avatar">
            </a>
        </header>

        <main>
            
            <img src="./images/user.png" alt="profile picture">
            <a href="#" id="avatar">Edit Avatar</a><br><br>
            <input id="login" type="text" placeholder="username"/>
            <input id="password" type="text" placeholder="password"/>
            <button id="register_btn">register</button>
            <button id="login_btn">login</button><br>
            <h3 id="message"></h3>
            <h2 id="display_user">current user:</h2>
            <script>
                let login_input = document.getElementById('login');
                let password_input = document.getElementById('password');
                let reg_btn = document.getElementById('register_btn');
                let log_btn = document.getElementById('login_btn');
                let user_display = document.getElementById('display_user');
                let message_field = document.getElementById('message');

                reg_btn.addEventListener('click', ()=>{
                    login_str = login_input.value;
                    password_str = password_input.value;
                    localStorage.setItem(login_str, JSON.stringify({login: login_str, password: password_str}));

                    current_user = JSON.parse(localStorage.getItem(login_str));
                    user_display.textContent += current_user.login;
                })

                log_btn.addEventListener('click', ()=>{
                    login_str = login_input.value;
                    password_str = password_input.value;

                    potential_user = JSON.parse(localStorage.getItem(login_str));
                    if (potential_user != null && potential_user.password == password_str) {
                        current_user = potential_user
                        user_display.textContent += current_user.login;
                    } else {
                        message_field.textContent = "Invalid login or password";
                    }
                })
            </script>
        </main>

        <footer>
            <p>&copy; 2025 Jobster</p>
            <p>Author: *author name*</p>
        </footer>

    </body>
</html>
